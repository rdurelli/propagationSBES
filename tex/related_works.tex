%!TEX root = /Users/rafaeldurelli/Dropbox/Artigos Elaborados/KDM propagation_2015/sbes_2015_kdm_propagation/sbes2015_kdm_propagation.tex


%In~\cite{4440135}, Enrico Biermann et al. propose to use the Eclipse Modeling Framework (EMF), a modeling and code generation framework for Eclipse applications based on structured data models. They introduce the EMF model refactoring by defining a transformation rules applied on EMF models. EMF transformation rules can be translated to corresponding graph transformation rules. If the resulting EMF model is consistent, the corresponding result graph is equivalent and can be used for validating EMF model refactoring. Authors offer a help for developer to decide which refactoring is most suitable for a given model and why, by analyzing the conflicts and dependencies of refactorings. This initiative is closed to the model driven architecture (MDA) paradigm~\cite{Kleppe:2003} since it starts from the EMF metamodel applying a transformation rules.

%In~\cite{Rui:2003} Rui, K. and Butler, apply refactoring on use case models, they propose a generic refactoring based on use case metamodel. This metamodel allows creating several categories of use case refactorings, they extend the code refactoring to define a set of use case refactorings primitive. This refactoring is very specific since it is focused only on use case model, the issue of generic refactoring is not addressed, and these works do not follow the MDA approach.

%Another work on model refactoring is proposed in~\cite{Zhang05genericand}, based on the Constraint-Specification Aspect Weaver (C-SAW), a model transformation engine which describes the binding and parameterization of strategies to specific entities in a model. Authors propose a model refactoring browser within the model transformation engine to enable the automation and customization of various refactoring methods for either generic models or domain-specific models. The transformation proposed in this work is not based on any metamodel, it is not an MDA approach.%------------------------------------------


Westfechtel \textit{et al}.~\cite{ICSOFT2014_Winetzhammer} presented an approach for refactoring UML class diagrams and propagate the changes to behavioral models (UML Sequence diagrams), to maintain the consistency between these models/views. Unlike these authors, we aim to propagate the changes to other static views, in a cascade way. %, all of them belonging to the same family of meta-models. 
As our approach does not take into consideration behavior aspects, only static ones, we believe that both approaches are complementary to each other.

Egyed~\cite{Egyed:2006:ICC:1134285.1134339} proposed an UML-based approach similar to our second step, which is the mining and identification of model elements to be changed. In order to find those model elements, the author employs "consistency rules" between models. These rules always must keep satisfied when the models as synchronized. So, whenever an element is refactored, a broken rule is an indication that a desynchronization problem occurred, allowing the identification of model elements that must be updated to synchronize the model again. The author argue that his approach scales up to large, industrial UML models. The author employs a strategy different from ours for the identification of the points to be updated; while we rely on the comparison between the original and refactored models, he relies on the consistency rules. We believe that the problem with his approach is the insertion of another task to be performed (the specification of the consistency rules), in which new problems and errors can be inserted. Our approach is more time-consuming in terms of processing, but we believe that the recall and precision of the identification is higher.

Therefore, to be best of our knowledge our work is the first one in presenting an approach for propagating changes in KDM models in a consistent and transparent way. The most fundamental differences of other related works are: i) we consider only static models, i.e, other views of the system; ii) we work with a family of meta-models that share a consistent and homogeneously terminology (syntax) and iii) our solution is KDM-specific and iv) our approach is tool supported by means of a Eclipse plug-in which can be coupled to any KDM refactoring written in any transformation language. 

%----------------------------------------------------------------

%We are aware of only a few approaches dealing with the propagation of changes from the structural model into the behavioral model. Rosner and Bauer~\cite{murduck}  propose an approach to update model transformations in response to metamodel changes. The approach requires an ontology mapping between metamodel versions and is applied to evolve QVT-R~\cite{QVT} transformations. Similarly, Westfechtel \textit{et al}.~\cite{ICSOFT2014_Winetzhammer} presented an approach for refactoring static models (UML class diagrams, for example) and propagate the static changes to behavioral models (UML Sequence diagrams, for example), aiming to maintain the consistency between these models. Unlikely these authors, in this project our goal is to propagate the changes to other static views. It is not the purpose of our paper ensure that the refactorings maintain the observable behavioral of the system. Therefore, we believe that our approach are complementary to the proposal of the mentioned authors. %Recently, Egyed~\cite{Egyed:2006:ICC:1134285.1134339} proposed a very efficient approach to check for propagation (i.e. violations of consistency rules) in UML models. His approach scales up to large, industrial UML models by tracking which entities are used to check each consistency rule, and then using this information to determine which rules might be affected by a change, and only re-evaluate these rules. This work is complementary to our work: it provides a rapid means of checking consistency (which supports the first step of our approach), but does not tackle the issue of how to restore consistency.%Research on model refactoring primarily focuses on the structural model (UML Class Diagrams). For example, in~\cite{4440135} refactoring of Ecore models is specified with graph transformation rules in the AGG environment. Differently our approach focus of model refactoring to KDM models.
%Altogether, the work presented in this paper is unique since it does not only support refactoring in KDM, but also keep all KDM levels synchronized by means of a decoupled set of ATL rules. Refactoring and propagation of changes in KDM levels are supported in an integrated/transparent way, i.e., after a refactoring changes are propagated to others KDM levels such that consistency and synchronization are preserved.
%In the line of language independent refactoring and metamodelling, Sander et al.~\cite{Tichelaar00}, study the similarities between refactorings for Smalltalk and Java, and build the FAMIX model. It provides a language-independent representation of object- oriented source code. It is an entity-relationship model that models object-oriented source code at the program entity level, with a tool to assist refactoring named MOOSE. FAMIX does not take account neither complex features in strongly typed languages, nor aspects of advanced inheritance and genericity. This approach is not really independent from language since the refactoring transformation is achieved directly on the original code. This alternative forces to implement transformers of specific code for each language. These code transformers use an approach based on text using regular expressions.



